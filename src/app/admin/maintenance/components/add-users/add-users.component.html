<div class="main-container">
  <div class="list-container"></div>

  <div class="container-users">
    <simple-notifications></simple-notifications>
    <h2 *ngIf="showTitle" >{{ 'ADD_USERS.TITLE_ADD' | translate }}</h2>
    <h2 *ngIf="showTitleUpdate" >{{ 'ADD_USERS.TITLE_UPDATE' | translate }}</h2>

    <form class="form-container" [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <div class="container-inputs">
        <mat-form-field class="input-small">
          <mat-label>{{ 'ADD_USERS.FORM.LABEL_NAME' | translate }}</mat-label>
          <input class="escritos" matInput formControlName="name" required />
          <mat-error *ngIf="userForm.get('name')?.invalid">{{getErrorMessage('name')}}</mat-error>
        </mat-form-field>

        <mat-form-field class="input-small">
          <mat-label>{{ 'ADD_USERS.FORM.LABEL_SURNAME' | translate }}</mat-label>
          <input class="escritos" matInput formControlName="surname" required />
          <mat-error *ngIf="userForm.get('surname')?.invalid">{{getErrorMessage('surname')}}</mat-error>
        </mat-form-field>
        </div>
        <div class="container-inputs">
        <mat-form-field class="input-small">
          <mat-label>{{ 'ADD_USERS.FORM.LABEL_AÃ±o' | translate }}</mat-label>
          <input type="number" class="escritos" matInput formControlName="age" required />
          <mat-error *ngIf="userForm.get('age')?.invalid">{{getErrorMessage('age')}}</mat-error>

        </mat-form-field>

          <mat-form-field class="input-small">
            <mat-label>{{ 'ADD_USERS.FORM.LABEL_EMAIL' | translate }}</mat-label>
            <input
              class="escritos"
              matInput
              formControlName="email"
              required
            />
            <mat-error *ngIf="userForm.get('email')?.invalid">{{ getErrorMessage('email') }}</mat-error>
          </mat-form-field>
        </div>

        <div class="container-inputs">
        <mat-form-field class="input-small">
          <mat-label>{{ 'ADD_USERS.FORM.LABEL_DPI' | translate }}</mat-label>
          <input class="escritos" matInput formControlName="dpi" required />
          <mat-error *ngIf="userForm.get('dpi')?.invalid">{{getErrorMessage('dpi')}}</mat-error>

        </mat-form-field><mat-form-field class="profile-select">
          <mat-label>{{ 'ADD_USERS.FORM.LABEL_PROFILE' | translate }}</mat-label>
          <mat-select formControlName="profile" required>
            <mat-option *ngFor="let message of profiles" [value]="message.profileId">
              {{ message.description | translate }}
            </mat-option>
          </mat-select>
        </mat-form-field>

      </div>


      </div>
      <mat-slide-toggle  class="toogle" *ngIf="userIdSelected" (change)="onToggleChange($event)" formControlName="status">{{ 'USER.LABEL_STATUS' | translate }}</mat-slide-toggle>
      <div class="container-buttons">
        <button class="guardar" *ngIf="mostrarBotonGuardar" type="submit">
          {{ 'ADD_USERS.BUTTONS.BTN_SAVE' | translate }}
        </button>
        <button class="cancelar" type="button" (click)="CancelUpdate()">
        {{ 'ADD_USERS.BUTTONS.BTN_CANCELAR' | translate }}
      </button>
        <button *ngIf="mostrarBoton" class="guardar" type="button" (click)="updateUser()">
          {{ 'ADD_USERS.BUTTONS.BTN_UPDATE_PROFILE' | translate }}
        </button>


      </div>
    </form>
  </div>
</div>
